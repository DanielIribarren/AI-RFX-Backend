# ğŸ“‹ CASOS DE USO: MODIFICACIÃ“N DE RFX
## DocumentaciÃ³n Conceptual Breve

**Proyecto:** AI-RFX Backend  
**Feature:** ActualizaciÃ³n Conversacional de RFX  
**Fecha:** Noviembre 27, 2025  
**VersiÃ³n:** 1.0

---

## ğŸ¯ OVERVIEW

Esta documentaciÃ³n cubre **TODOS** los casos de uso de cÃ³mo un usuario puede modificar un RFX existente usando el chat conversacional.

**MÃ©todos de actualizaciÃ³n:**
1. **Texto simple** - Usuario escribe lo que necesita
2. **Archivo adjunto** - Usuario sube PDF/imagen con cambios
3. **Combinado** - Texto + archivo

---

## ğŸ“Š CATEGORÃAS DE MODIFICACIÃ“N

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              TIPOS DE MODIFICACIÃ“N              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  1. AGREGAR      â†’ Productos nuevos             â”‚
â”‚  2. MODIFICAR    â†’ Cantidades, precios, info    â”‚
â”‚  3. ELIMINAR     â†’ Quitar productos             â”‚
â”‚  4. REEMPLAZAR   â†’ Cambio completo de RFX       â”‚
â”‚  5. CORREGIR     â†’ Arreglar errores             â”‚
â”‚  6. CONSULTAR    â†’ Preguntar (sin cambios)      â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1ï¸âƒ£ AGREGAR PRODUCTOS

### 1.1 Agregar Producto Simple (Texto)

**Usuario escribe:**
```
"Agregar 20 refrescos"
"Necesito 50 servilletas"
"Incluir 10 manteles blancos"
```

**Agente hace:**
1. Identifica: Intent = "agregar productos"
2. Extrae: nombre="Refrescos", cantidad=20
3. Busca en catÃ¡logo (si existe precio)
4. Agrega al RFX
5. Calcula nuevo total

**RFX antes:**
```
1. Pasos salados (50) - $250.00
2. CafÃ© y tÃ© (20)     - $40.00
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total: $290.00
```

**RFX despuÃ©s:**
```
1. Pasos salados (50)  - $250.00
2. CafÃ© y tÃ© (20)      - $40.00
3. ğŸ†• Refrescos (20)   - $50.00  â† Nuevo con glow
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total: $340.00  â† Actualizado
```

**Frecuencia:** â­â­â­â­â­ (Muy comÃºn, ~40%)

---

### 1.2 Agregar MÃºltiples Productos (Texto)

**Usuario escribe:**
```
"Agregar:
- 20 refrescos
- 30 jugos naturales
- 50 servilletas decoradas"
```

**Agente hace:**
1. Detecta lista de productos
2. Procesa cada uno individualmente
3. Agrega todos al RFX
4. Calcula nuevo total

**RFX despuÃ©s:**
```
...productos anteriores...
3. ğŸ†• Refrescos (20)           - $50.00
4. ğŸ†• Jugos naturales (30)     - $90.00
5. ğŸ†• Servilletas decoradas (50) - $25.00
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total: $505.00
```

**Frecuencia:** â­â­â­ (ComÃºn, ~15%)

---

### 1.3 Agregar Desde Archivo (Sin Duplicados)

**Usuario adjunta:**
- PDF con nueva solicitud
- Imagen de lista escrita a mano
- Documento Word

**Usuario escribe (opcional):**
```
"Cliente enviÃ³ productos adicionales"
```

**Agente hace:**
1. Extrae productos del archivo
2. Compara con RFX actual
3. Identifica solo productos nuevos
4. Agrega solo los nuevos

**Ejemplo:**
```
Archivo contiene:
- Bocadillos dulces (30)
- Bebidas frÃ­as (15)

RFX ya tiene:
- (nada similar)

Resultado: Agrega ambos âœ…
```

**Frecuencia:** â­â­â­ (ComÃºn, ~15%)

---

### 1.4 Agregar Desde Archivo (CON Duplicados) âš ï¸

**Escenario mÃ¡s complejo y frecuente**

**Usuario adjunta:** PDF que tiene productos nuevos Y productos que ya existen

**Archivo contiene:**
```
- Pasos salados (50)        â† Ya existe
- CafÃ© y tÃ© (20)            â† Ya existe
- Pasos dulces (30)         â† NUEVO
- Jugos naturales (15)      â† NUEVO
```

**RFX actual tiene:**
```
1. Pasos salados variados (50)  â† Similar
2. CafÃ© y tÃ© (20)               â† Exacto
```

**Agente detecta:**
1. "Pasos salados" vs "Pasos salados variados" â†’ 95% similar âš ï¸
2. "CafÃ© y tÃ©" â†’ 100% exacto âš ï¸
3. "Pasos dulces" â†’ No existe âœ…
4. "Jugos naturales" â†’ No existe âœ…

**Agente pregunta:**
```
âš ï¸ EncontrÃ© productos duplicados:

Del archivo:
â€¢ Pasos salados (50)
â€¢ CafÃ© y tÃ© (20)

Ya existen en el RFX:
â€¢ Pasos salados variados (50)
â€¢ CafÃ© y tÃ© (20)

Productos nuevos detectados:
â€¢ Pasos dulces (30)
â€¢ Jugos naturales (15)

Â¿QuÃ© deseas hacer?

1ï¸âƒ£ Solo agregar productos nuevos â­
   (Ignora duplicados, agrega: Pasos dulces, Jugos)
   
2ï¸âƒ£ Agregar todo como productos independientes
   (Mantiene existentes + agrega todo del archivo)
   
3ï¸âƒ£ Reemplazar productos existentes
   (Elimina antiguos, usa versiÃ³n del archivo)
```

**Usuario selecciona:** "1" (mÃ¡s comÃºn)

**Resultado:**
```
RFX actualizado:
1. Pasos salados variados (50)  - $250.00  â† Mantiene
2. CafÃ© y tÃ© (20)               - $40.00   â† Mantiene
3. ğŸ†• Pasos dulces (30)         - $90.00   â† Agrega
4. ğŸ†• Jugos naturales (15)      - $45.00   â† Agrega
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total: $425.00
```

**Frecuencia:** â­â­â­â­â­ (MUY comÃºn, ~30%)  
**Criticidad:** ğŸ”¥ğŸ”¥ğŸ”¥ (Caso mÃ¡s importante a manejar bien)

---

### 1.5 Agregar con Especificaciones Detalladas

**Usuario escribe:**
```
"Agregar 50 pasos salados gourmet, 
variedad premium con quesos importados,
precio unitario $8.00"
```

**Agente hace:**
1. Extrae: nombre completo con especificaciones
2. Extrae: cantidad=50, precio=$8.00
3. Agrega con toda la informaciÃ³n
4. Respeta precio especificado por usuario

**RFX despuÃ©s:**
```
3. ğŸ†• Pasos salados gourmet (50)
   Variedad premium con quesos importados
   $8.00 c/u - Total: $400.00
```

**Frecuencia:** â­â­ (Ocasional, ~5%)

---

## 2ï¸âƒ£ MODIFICAR PRODUCTOS/INFORMACIÃ“N

### 2.1 Modificar Cantidad (Aumentar)

**Usuario escribe:**
```
"Aumentar pasos salados a 80 unidades"
"Cambiar cafÃ© a 30 servicios"
"Necesito 100 pasos en lugar de 50"
```

**Agente hace:**
1. Identifica producto a modificar
2. Actualiza cantidad: 50 â†’ 80
3. Recalcula precio (80 Ã— precio_unitario)
4. Actualiza total

**RFX antes:**
```
1. Pasos salados (50) - $250.00
```

**RFX despuÃ©s:**
```
1. Pasos salados (80) - $400.00  â† Cantidad y total actualizados
   âœï¸ Modificado  â† Badge temporal
```

**Frecuencia:** â­â­â­â­ (Muy comÃºn, ~20%)

---

### 2.2 Modificar Cantidad (Disminuir)

**Usuario escribe:**
```
"Reducir cafÃ© a 10 servicios"
"Bajar pasos salados a 30"
```

**Agente hace:**
1. Identifica producto
2. Actualiza cantidad: 20 â†’ 10
3. Recalcula precio
4. Actualiza total

**RFX antes:**
```
2. CafÃ© y tÃ© (20) - $40.00
```

**RFX despuÃ©s:**
```
2. CafÃ© y tÃ© (10) - $20.00  â† Reducido
```

**Frecuencia:** â­â­â­ (ComÃºn, ~10%)

---

### 2.3 Modificar Precio Unitario

**Usuario escribe:**
```
"El precio de los pasos salados es $6.00 cada uno"
"Actualizar precio del cafÃ© a $2.50 por servicio"
```

**Agente hace:**
1. Identifica producto
2. Actualiza precio unitario
3. Recalcula total del producto
4. Actualiza total general

**RFX antes:**
```
1. Pasos salados (50) - $5.00 c/u - $250.00
```

**RFX despuÃ©s:**
```
1. Pasos salados (50) - $6.00 c/u - $300.00  â† Precio actualizado
```

**Frecuencia:** â­â­â­ (ComÃºn, ~10%)

---

### 2.4 Modificar Nombre/DescripciÃ³n

**Usuario escribe:**
```
"Cambiar 'Pasos salados' a 'Bocadillos salados gourmet'"
"Actualizar descripciÃ³n del cafÃ©: 'CafÃ© premium y tÃ© de hierbas'"
```

**Agente hace:**
1. Identifica producto a modificar
2. Actualiza nombre/descripciÃ³n
3. Mantiene cantidad y precio

**RFX antes:**
```
1. Pasos salados (50) - $250.00
```

**RFX despuÃ©s:**
```
1. Bocadillos salados gourmet (50) - $250.00  â† Nombre actualizado
```

**Frecuencia:** â­â­ (Ocasional, ~5%)

---

### 2.5 Modificar InformaciÃ³n del Evento

**Usuario escribe:**
```
"Cambiar fecha al 15 de diciembre"
"Actualizar lugar: SalÃ³n Gardenia"
"El evento es para 150 personas ahora"
"Cliente: MarÃ­a RodrÃ­guez"
```

**Agente hace:**
1. Identifica campo a modificar (fecha/lugar/personas/cliente)
2. Actualiza el campo correspondiente
3. NO modifica productos (a menos que sea necesario)

**RFX antes:**
```
Cliente: Sofia Elena Catering
Fecha: 10 Diciembre 2024
Lugar: Por definir
Personas: 100
```

**RFX despuÃ©s:**
```
Cliente: MarÃ­a RodrÃ­guez  â† Actualizado
Fecha: 15 Diciembre 2024  â† Actualizado
Lugar: SalÃ³n Gardenia     â† Actualizado
Personas: 150             â† Actualizado
```

**Frecuencia:** â­â­â­â­ (Muy comÃºn, ~15%)

---

## 3ï¸âƒ£ ELIMINAR PRODUCTOS

### 3.1 Eliminar Producto EspecÃ­fico

**Usuario escribe:**
```
"Eliminar los refrescos"
"Quitar cafÃ© y tÃ©"
"Ya no necesito las servilletas"
```

**Agente hace:**
1. Identifica producto(s) a eliminar
2. Pide confirmaciÃ³n (opcional segÃºn configuraciÃ³n)
3. Elimina del RFX
4. Recalcula total

**RFX antes:**
```
1. Pasos salados (50) - $250.00
2. CafÃ© y tÃ© (20)     - $40.00
3. Refrescos (20)     - $50.00
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total: $340.00
```

**Agente pregunta:**
```
âš ï¸ Vas a eliminar:
â€¢ CafÃ© y tÃ© (20 servicios) - $40.00

Â¿Confirmas?
1ï¸âƒ£ SÃ­, eliminar
2ï¸âƒ£ No, cancelar
```

**Usuario:** "1"

**RFX despuÃ©s:**
```
1. Pasos salados (50) - $250.00
2. Refrescos (20)     - $50.00
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Total: $300.00  â† Recalculado
```

**Frecuencia:** â­â­â­ (ComÃºn, ~10%)

---

### 3.2 Eliminar MÃºltiples Productos

**Usuario escribe:**
```
"Eliminar cafÃ©, refrescos y servilletas"
```

**Agente hace:**
1. Identifica todos los productos
2. Lista para confirmaciÃ³n
3. Elimina todos
4. Recalcula

**Agente pregunta:**
```
âš ï¸ Vas a eliminar 3 productos:
â€¢ CafÃ© y tÃ© (20) - $40.00
â€¢ Refrescos (20) - $50.00
â€¢ Servilletas (50) - $25.00

Total a restar: $115.00

Â¿Confirmas?
```

**Frecuencia:** â­â­ (Ocasional, ~5%)

---

## 4ï¸âƒ£ REEMPLAZAR COMPLETAMENTE

### 4.1 Reemplazar Todo el RFX

**Usuario escribe:**
```
"Cliente cambiÃ³ todo, adjunto nueva solicitud"
"Reemplazar con esta nueva lista"
```

**Usuario adjunta:** Archivo con solicitud completamente nueva

**Agente detecta:**
- Solicitud nueva es muy diferente (>70% productos diferentes)
- Usuario usa palabras clave: "reemplazar", "cambiÃ³ todo", "nueva solicitud"

**Agente pregunta:**
```
âš ï¸ REEMPLAZO COMPLETO

DetectÃ© que quieres reemplazar todo el RFX.

RFX actual tiene:
â€¢ 3 productos
â€¢ Total: $340.00

Nueva solicitud tiene:
â€¢ 5 productos
â€¢ Total estimado: $580.00

Â¿Confirmas reemplazar completamente?

1ï¸âƒ£ SÃ­, reemplazar todo âš ï¸
2ï¸âƒ£ No, solo agregar productos nuevos
```

**Usuario:** "1"

**Resultado:**
- Elimina todos los productos anteriores
- Crea RFX nuevo con productos del archivo
- Mantiene: Cliente, fecha (a menos que cambien)
- Actualiza: Productos, totales

**Frecuencia:** â­â­ (Raro pero crÃ­tico, ~5%)

---

### 4.2 Reemplazar Producto Individual

**Usuario escribe:**
```
"Cambiar pasos salados por bocadillos gourmet, 50 unidades"
```

**Agente hace:**
1. Identifica que es reemplazo (no modificaciÃ³n)
2. Elimina producto antiguo
3. Agrega producto nuevo
4. Mantiene cantidad o usa nueva

**RFX antes:**
```
1. Pasos salados (50) - $250.00
```

**RFX despuÃ©s:**
```
1. Bocadillos gourmet (50) - $300.00  â† Reemplazado
```

**Frecuencia:** â­â­ (Ocasional, ~5%)

---

## 5ï¸âƒ£ CORREGIR ERRORES

### 5.1 Corregir Cantidad ErrÃ³nea

**Usuario escribe:**
```
"El total de pasos salados debe ser 50, no 80"
"Corregir cafÃ©: son 20 servicios, no 30"
```

**Agente hace:**
1. Identifica que es correcciÃ³n (no modificaciÃ³n intencional)
2. Actualiza al valor correcto
3. Explica el cambio

**Agente responde:**
```
âœ… Corregido:
ğŸ“¦ Pasos salados
   Antes: 80 unidades âŒ
   Ahora: 50 unidades âœ…
   
ğŸ’° Total actualizado: $400 â†’ $250
```

**Frecuencia:** â­â­â­ (ComÃºn, ~8%)

---

### 5.2 Corregir Precio ErrÃ³neo

**Usuario escribe:**
```
"El precio de los pasos es $5.00, no $6.00"
"Corregir: cafÃ© debe costar $2.00 cada uno"
```

**Agente hace:**
1. Actualiza precio al correcto
2. Recalcula totales
3. Muestra diferencia

**Frecuencia:** â­â­â­ (ComÃºn, ~8%)

---

### 5.3 Corregir Nombre de Producto

**Usuario escribe:**
```
"Es 'Pasos salados', no 'Bocadillos salados'"
"El cafÃ© es 'CafÃ© premium', lo escribiste mal"
```

**Agente hace:**
1. Corrige el nombre
2. Mantiene todo lo demÃ¡s

**Frecuencia:** â­â­ (Ocasional, ~3%)

---

### 5.4 Corregir InformaciÃ³n del Evento

**Usuario escribe:**
```
"La fecha correcta es 12 de diciembre, no 15"
"El cliente es Juan PÃ©rez, no MarÃ­a RodrÃ­guez"
```

**Agente hace:**
1. Corrige el campo especÃ­fico
2. Confirma el cambio

**Frecuencia:** â­â­â­ (ComÃºn, ~7%)

---

## 6ï¸âƒ£ CONSULTAR (Sin Modificar)

### 6.1 Consultar Lista de Productos

**Usuario escribe:**
```
"Â¿QuÃ© productos tiene este RFX?"
"MuÃ©strame la lista actual"
"Â¿CuÃ¡ntos productos hay?"
```

**Agente responde:**
```
ğŸ“¦ Este RFX tiene 3 productos:

1. Pasos salados variados (50) - $250.00
2. CafÃ© y tÃ© (20) - $40.00
3. Refrescos (20) - $50.00

ğŸ’° Total: $340.00

Â¿Necesitas modificar algo?
```

**NO modifica nada, solo consulta**

**Frecuencia:** â­â­ (Ocasional, ~5%)

---

### 6.2 Consultar InformaciÃ³n EspecÃ­fica

**Usuario escribe:**
```
"Â¿CuÃ¡l es el total actual?"
"Â¿CuÃ¡ntos pasos salados tenemos?"
"Â¿CuÃ¡ndo es el evento?"
```

**Agente responde:**
```
ğŸ“… InformaciÃ³n del evento:
â€¢ Fecha: 10 Diciembre 2024
â€¢ Lugar: SalÃ³n Gardenia
â€¢ Cliente: Sofia Elena Catering
â€¢ Personas: 100
â€¢ Total: $340.00
```

**Frecuencia:** â­â­ (Ocasional, ~4%)

---

### 6.3 Consultar Precios

**Usuario escribe:**
```
"Â¿CuÃ¡nto cuesta cada paso salado?"
"Â¿CuÃ¡l es el precio unitario del cafÃ©?"
```

**Agente responde:**
```
ğŸ’° Precios:
â€¢ Pasos salados: $5.00 c/u
â€¢ Total de 50 unidades: $250.00
```

**Frecuencia:** â­ (Raro, ~2%)

---

## ğŸ” CASOS ESPECIALES Y EDGE CASES

### 7.1 Solicitud Ambigua

**Usuario escribe:**
```
"Agregar mÃ¡s pasos"
```

**Problema:** No especifica cuÃ¡ntos

**Agente responde:**
```
â“ Â¿CuÃ¡ntos pasos salados deseas agregar?

Actualmente tienes: 50 unidades

Por favor especifica:
â€¢ Cantidad adicional (ej: "+20" = total 70)
â€¢ Cantidad nueva total (ej: "70" = total 70)
```

---

### 7.2 Producto No Existe en CatÃ¡logo

**Usuario escribe:**
```
"Agregar 30 canapÃ©s de salmÃ³n ahumado"
```

**Problema:** Producto no estÃ¡ en catÃ¡logo, no hay precio

**Agente responde:**
```
âš ï¸ Producto no encontrado en catÃ¡logo

ğŸ“¦ CanapÃ©s de salmÃ³n ahumado (30)

No tengo precio para este producto.
Â¿QuÃ© deseas hacer?

1ï¸âƒ£ Agregar sin precio (definir despuÃ©s)
2ï¸âƒ£ Especificar precio ahora
3ï¸âƒ£ Cancelar
```

**Usuario:** "2 - $8 cada uno"

**Resultado:** Agrega con precio $8.00 c/u

---

### 7.3 Archivo No Procesable

**Usuario adjunta:** Archivo corrupto o formato no soportado

**Agente responde:**
```
âŒ No pude procesar el archivo

El archivo parece estar corrupto o en formato
no soportado.

Formatos aceptados:
â€¢ PDF
â€¢ ImÃ¡genes (JPG, PNG)
â€¢ Word (DOCX)

Por favor:
1ï¸âƒ£ Verifica el archivo
2ï¸âƒ£ Adjunta otro archivo
3ï¸âƒ£ Describe los cambios manualmente
```

---

### 7.4 Cantidad Inusual (Muy Alta/Baja)

**Usuario escribe:**
```
"Agregar 10,000 pasos salados"
```

**Agente detecta:** Cantidad sospechosamente alta

**Agente pregunta:**
```
âš ï¸ ConfirmaciÃ³n de cantidad

Deseas agregar: 10,000 unidades de pasos salados
Precio estimado: $50,000.00

Esto es una cantidad muy alta.
Â¿Es correcto?

1ï¸âƒ£ SÃ­, confirmar 10,000 unidades
2ï¸âƒ£ No, cambiar cantidad
```

---

### 7.5 MÃºltiples Modificaciones en Un Mensaje

**Usuario escribe:**
```
"Agregar 20 refrescos, 
aumentar pasos a 80, 
eliminar cafÃ©,
cambiar fecha al 15 de diciembre"
```

**Agente hace:**
1. Detecta 4 operaciones diferentes
2. Procesa cada una en orden
3. Aplica todos los cambios
4. Resume todo al final

**Agente responde:**
```
âœ… He aplicado 4 cambios:

1. â• Agregado: Refrescos (20) - $50.00
2. âœï¸ Modificado: Pasos salados 50 â†’ 80
3. â– Eliminado: CafÃ© y tÃ©
4. ğŸ“… Actualizado: Fecha â†’ 15 Diciembre 2024

ğŸ’° Nuevo total: $450.00
```

---

### 7.6 Instrucciones Contradictorias

**Usuario escribe:**
```
"Agregar 20 refrescos pero no los agregues"
"Eliminar cafÃ© pero mantenerlo"
```

**Agente detecta:** ContradicciÃ³n

**Agente responde:**
```
â“ Instrucciones contradictorias

Dijiste:
â€¢ "Agregar 20 refrescos"
â€¢ "Pero no los agregues"

Por favor aclara:
1ï¸âƒ£ Agregar refrescos
2ï¸âƒ£ NO agregar refrescos
3ï¸âƒ£ Explicar mejor lo que necesitas
```

---

## ğŸ“Š TABLA RESUMEN DE FRECUENCIA

| Caso de Uso | Frecuencia | Complejidad | Prioridad |
|-------------|------------|-------------|-----------|
| Agregar simple (texto) | â­â­â­â­â­ 40% | Baja | ğŸ”¥ğŸ”¥ğŸ”¥ Alta |
| Agregar archivo CON duplicados | â­â­â­â­â­ 30% | Alta | ğŸ”¥ğŸ”¥ğŸ”¥ CrÃ­tica |
| Modificar cantidad | â­â­â­â­ 20% | Baja | ğŸ”¥ğŸ”¥ğŸ”¥ Alta |
| Agregar mÃºltiples | â­â­â­ 15% | Media | ğŸ”¥ğŸ”¥ Media |
| Agregar archivo SIN duplicados | â­â­â­ 15% | Media | ğŸ”¥ğŸ”¥ Media |
| Modificar info evento | â­â­â­â­ 15% | Baja | ğŸ”¥ğŸ”¥ Media |
| Eliminar producto | â­â­â­ 10% | Baja | ğŸ”¥ğŸ”¥ Media |
| Modificar precio | â­â­â­ 10% | Baja | ğŸ”¥ Baja |
| Corregir cantidad | â­â­â­ 8% | Baja | ğŸ”¥ğŸ”¥ Media |
| Corregir precio | â­â­â­ 8% | Baja | ğŸ”¥ Baja |
| Corregir info evento | â­â­â­ 7% | Baja | ğŸ”¥ Baja |
| Agregar con specs | â­â­ 5% | Media | ğŸ”¥ Baja |
| Reemplazar completo | â­â­ 5% | Alta | ğŸ”¥ğŸ”¥ Media |
| Eliminar mÃºltiples | â­â­ 5% | Media | ğŸ”¥ Baja |
| Consultar productos | â­â­ 5% | Baja | ğŸ”¥ Baja |
| Reemplazar individual | â­â­ 5% | Media | ğŸ”¥ Baja |
| Modificar nombre | â­â­ 5% | Baja | ğŸ”¥ Baja |
| Consultar info | â­â­ 4% | Baja | ğŸ”¥ Baja |
| Corregir nombre | â­â­ 3% | Baja | ğŸ”¥ Baja |
| Consultar precios | â­ 2% | Baja | ğŸ”¥ Baja |

**Total casos documentados:** 20+

---

## ğŸ¯ CASOS MÃS CRÃTICOS (TOP 5)

### 1. ğŸ”¥ğŸ”¥ğŸ”¥ Agregar Archivo CON Duplicados (30%)
**Por quÃ© es crÃ­tico:**
- Caso mÃ¡s complejo tÃ©cnicamente
- Requiere detecciÃ³n inteligente de duplicados
- Necesita confirmaciÃ³n del usuario
- Mal manejo = RFX incorrecto

**Prioridad:** Implementar PRIMERO

---

### 2. ğŸ”¥ğŸ”¥ğŸ”¥ Agregar Simple por Texto (40%)
**Por quÃ© es crÃ­tico:**
- Caso mÃ¡s frecuente
- Primera impresiÃ³n del usuario
- Debe ser RÃPIDO (< 5 seg)
- Core value proposition

**Prioridad:** Implementar PRIMERO

---

### 3. ğŸ”¥ğŸ”¥ğŸ”¥ Modificar Cantidad (20%)
**Por quÃ© es crÃ­tico:**
- Muy frecuente
- Debe recalcular correctamente
- Afecta totales
- Error = pÃ©rdida de confianza

**Prioridad:** Implementar PRIMERO

---

### 4. ğŸ”¥ğŸ”¥ Agregar MÃºltiples (15%)
**Por quÃ© es importante:**
- Demuestra capacidad del agente
- Ahorra tiempo al usuario
- Parsing complejo

**Prioridad:** Implementar SEGUNDO

---

### 5. ğŸ”¥ğŸ”¥ Agregar Archivo SIN Duplicados (15%)
**Por quÃ© es importante:**
- ExtracciÃ³n de PDF debe ser precisa
- Menos complejo que con duplicados
- Base para caso #1

**Prioridad:** Implementar SEGUNDO

---

## ğŸ§ª RECOMENDACIONES DE TESTING

### Casos mÃ­nimos a testear (MVP):

1. âœ… **Agregar 1 producto simple**
   ```
   Input: "Agregar 20 refrescos"
   Expect: Producto agregado, total correcto
   ```

2. âœ… **Agregar archivo CON duplicados**
   ```
   Input: PDF con productos existentes + nuevos
   Expect: Detecta duplicados, pide confirmaciÃ³n
   ```

3. âœ… **Modificar cantidad**
   ```
   Input: "Aumentar pasos a 80"
   Expect: Cantidad actualizada, precio recalculado
   ```

4. âœ… **Eliminar producto**
   ```
   Input: "Eliminar cafÃ©"
   Expect: Producto eliminado, total recalculado
   ```

5. âœ… **Modificar info evento**
   ```
   Input: "Cambiar fecha al 15 de diciembre"
   Expect: Fecha actualizada, productos intactos
   ```

6. âœ… **Caso ambiguo**
   ```
   Input: "Agregar mÃ¡s pasos"
   Expect: Agente pregunta cantidad especÃ­fica
   ```

7. âœ… **MÃºltiples operaciones**
   ```
   Input: "Agregar refrescos y aumentar pasos a 80"
   Expect: Ambas operaciones aplicadas correctamente
   ```

---

## ğŸ“ NOTAS FINALES

### Principios de DiseÃ±o del Agente:

1. **Inteligencia sobre Reglas**
   - Agente entiende INTENCIÃ“N, no solo keywords
   - "Agregar", "Incluir", "Necesito" â†’ mismo intent
   - "Aumentar", "Cambiar a", "Modificar" â†’ mismo intent

2. **ConfirmaciÃ³n Cuando Hay Duda**
   - Duplicados â†’ Siempre confirmar
   - Eliminaciones â†’ Confirmar si >1 producto o >$100
   - Cantidades altas â†’ Confirmar si >1000 unidades
   - Reemplazo completo â†’ Siempre confirmar

3. **ExplicaciÃ³n Clara de Cambios**
   - Siempre mostrar: antes â†’ despuÃ©s
   - Usar emojis para visual clarity
   - Resumir impacto en total

4. **RecuperaciÃ³n de Errores**
   - Si falla, explicar por quÃ©
   - Ofrecer alternativas
   - Permitir reintentar fÃ¡cilmente

5. **Progresividad**
   - MVP: Casos 1, 2, 3 (agregar, archivo duplicados, modificar)
   - V2: Casos 4, 5 (eliminar, info evento)
   - V3: Casos avanzados (reemplazar, correcciones)

---

## âœ… CHECKLIST DE IMPLEMENTACIÃ“N

### MVP (MÃ­nimo Viable)
- [ ] Agregar producto simple (texto)
- [ ] Agregar desde archivo CON duplicados
- [ ] Modificar cantidad
- [ ] Modificar info del evento
- [ ] Consultar informaciÃ³n

### V2 (Post-MVP)
- [ ] Agregar mÃºltiples productos
- [ ] Eliminar producto(s)
- [ ] Modificar precios
- [ ] Corregir errores simples

### V3 (Avanzado)
- [ ] Reemplazar completo
- [ ] Modificar nombres
- [ ] MÃºltiples ops en un mensaje
- [ ] Casos ambiguos avanzados

---

**Status:** Casos de uso completos documentados âœ…

**Total casos:** 20+ documentados

**Prioridad:** Implementar top 3 primero (70% de uso)